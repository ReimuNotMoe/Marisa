/*
    This file is part of Marisa.
    Copyright (C) 2015-2021 ReimuNotMoe <reimu@sudomaker.com>

    This program is free software: you can redistribute it and/or modify
    it under the terms of the MIT License.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
*/

#include "Util.hpp"

using namespace Marisa;

static const std::string unknown_mime_type = "application/octet-stream";

static std::unordered_map<std::string, std::string> mime_types = {
	{"3ds", "image/x-3ds"},
	{"3g2", "video/3gpp2"},
	{"3ga", "video/3gpp"},
	{"3gp2", "video/3gpp2"},
	{"3gpp2", "video/3gpp2"},
	{"3gpp", "video/3gpp"},
	{"3gp", "video/3gpp"},
	{"aa", "audio/x-pn-audibleaudio"},
	{"aac", "audio/aac"},
	{"a", "application/x-archive"},
	{"aax", "audio/x-pn-audibleaudio"},
	{"abc", "text/vnd.abc"},
	{"abw", "application/x-abiword"},
	{"ac3", "audio/ac3"},
	{"ace", "application/x-ace"},
	{"adb", "text/x-adasrc"},
	{"adf", "application/x-amiga-disk-format"},
	{"ads", "text/x-adasrc"},
	{"afm", "application/x-font-afm"},
	{"agb", "application/x-gba-rom"},
	{"ag", "image/x-applix-graphics"},
	{"ai", "application/illustrator"},
	{"aif", "audio/x-aiff"},
	{"aifc", "audio/x-aifc"},
	{"aiff", "audio/x-aiff"},
	{"aiffc", "audio/x-aifc"},
	{"al", "application/x-perl"},
	{"alz", "application/x-alz"},
	{"amr", "audio/amr"},
	{"amz", "audio/x-am"},
	{"ani", "application/x-navi-animation"},
	{"anx", "application/annodex"},
	{"apc", "application/x-etherpeek"},
	{"ape", "audio/x-ape"},
	{"apk", "application/vnd.android.package-archive"},
	{"appimage", "application/vnd.appimage"},
	{"ar", "application/x-archive"},
	{"arj", "application/x-arj"},
	{"arw", "image/x-sony-arw"},
	{"as", "application/x-applix-spreadsheet"},
	{"ascii85", "text/x-ascii85"},
	{"asc", "text/plain"},
	{"asf", "application/vnd.ms-asf"},
	{"asp", "application/x-asp"},
	{"ass", "text/x-ssa"},
	{"asx", "audio/x-ms-asx"},
	{"atom", "application/atom"},
	{"au", "audio/basic"},
	{"automount", "text/x-systemd-unit"},
	{"avf", "video/x-msvideo"},
	{"avi", "video/x-msvideo"},
	{"aw", "application/x-applix-word"},
	{"awb", "audio/amr-wb"},
	{"awk", "application/x-awk"},
	{"awp", "application/x-accountwizard-package"},
	{"axa", "audio/annodex"},
	{"axv", "video/annodex"},
	{"b2a", "application/btoa"},
	{"b64", "application/base64"},
	{"bak", "application/x-trash"},
	{"base32", "text/x-base32"},
	{"base64", "application/base64"},
	{"bay", "image/x-kde-raw"},
	{"bcpio", "application/x-bcpio"},
	{"bdf", "application/x-font-bdf"},
	{"bdm", "video/mp2t"},
	{"bdmv", "video/mp2t"},
	{"bfr", "application/x-netinstobserver"},
	{"bib", "text/x-bibtex"},
	{"bin", "application/octet-stream"},
	{"blend", "application/x-blender"},
	{"blender", "application/x-blender"},
	{"bmp", "image/bmp"},
	{"bmq", "image/x-kde-raw"},
	{"bsdiff", "application/x-bsdiff"},
	{"btoa", "application/btoa"},
	{"bz2", "application/x-bzip"},
	{"bz", "application/x-bzip"},
	{"cab", "application/vnd.ms-cab-compressed"},
	{"cacerts", "application/x-java-keystore"},
	{"cap", "application/vnd.tcpdump.pcap"},
	{"cb7", "application/x-cb7"},
	{"cbl", "text/x-cobol"},
	{"cbr", "application/x-cbr"},
	{"cbt", "application/x-cbt"},
	{"cbz", "application/vnd.comicbook+zip"},
	{"ccmx", "application/x-ccmx"},
	{"cc", "text/x-c++src"},
	{"cda", "application/x-cda"},
	{"cdf", "application/x-netcdf"},
	{"cdr", "application/vnd.corel-draw"},
	{"cer", "application/pkix-cert"},
	{"cert", "application/x-x509-ca-cert"},
	{"cgb", "application/x-gameboy-color-rom"},
	{"cgm", "image/cgm"},
	{"chm", "application/vnd.ms-htmlhelp"},
	{"chrt", "application/x-kchart"},
	{"class", "application/x-java"},
	{"clpi", "video/mp2t"},
	{"cls", "text/x-tex"},
	{"cl", "text/x-opencl-src"},
	{"cmake", "text/x-cmake"},
	{"cob", "text/x-cobol"},
	{"coffee", "application/vnd.coffeescript"},
	{"com", "application/x-ms-dos-executable"},
	{"core", "application/x-core"},
	{"course", "application/x-kourse"},
	{"cpio", "application/x-cpio"},
	{"cpi", "video/mp2t"},
	{"cpp", "text/x-c++src"},
	{"cr2", "image/x-canon-cr2"},
	{"crdownload", "application/x-partial-download"},
	{"crl", "application/pkix-crl"},
	{"crt", "application/x-x509-ca-cert"},
	{"crw", "image/x-canon-crw"},
	{"cs1", "image/x-kde-raw"},
	{"cs2", "image/x-kde-raw"},
	{"csh", "application/x-csh"},
	{"csr", "application/pkcs10"},
	{"css", "text/css"},
	{"cs", "text/x-csharp"},
	{"csvs", "text/csv-schema"},
	{"csv", "text/csv"},
	{"c", "text/x-csrc"},
	{"c++", "text/x-c++src"},
	{"cue", "application/x-cue"},
	{"cur", "image/x-win-bitmap"},
	{"cxx", "text/x-c++src"},
	{"dar", "application/x-dar"},
	{"dbf", "application/x-dbf"},
	{"dbk", "application/x-docbook"},
	{"dc", "application/x-dc-rom"},
	{"dcl", "text/x-dcl"},
	{"dcm", "application/dicom"},
	{"dcr", "image/x-kodak-dcr"},
	{"dds", "image/x-dds"},
	{"deb", "application/vnd.debian.binary-package"},
	{"der", "application/x-x509-ca-cert"},
	{"desktop", "application/x-desktop"},
	{"device", "text/x-systemd-unit"},
	{"dia", "application/x-dia-diagram"},
	{"dib", "image/bmp"},
	{"dicomdir", "application/dicom"},
	{"diff", "text/x-patch"},
	{"directory", "application/x-desktop"},
	{"di", "text/x-dsrc"},
	{"divx", "video/x-msvideo"},
	{"djv", "image/vnd.djvu"},
	{"djvu", "image/vnd.djvu"},
	{"dll", "application/x-sharedlib"},
	{"dmg", "application/x-apple-diskimage"},
	{"dmp", "application/vnd.tcpdump.pcap"},
	{"dng", "image/x-adobe-dng"},
	{"doc", "application/vnd.ms-word"},
	{"docbook", "application/x-docbook"},
	{"docm", "application/vnd.ms-word.document.macroenabled.12"},
	{"docx", "application/vnd.opeformats-officedocument.wordprocessingml.document"},
	{"dot", "application/msword-template"},
	{"dotm", "application/vnd.ms-word.template.macroenabled.12"},
	{"dotx", "application/vnd.opeformats-officedocument.wordprocessingml.template"},
	{"dsl", "text/x-dsl"},
	{"dtd", "application-dtd"},
	{"d", "text/x-dsrc"},
	{"dts", "audio/vnd.dts"},
	{"dtshd", "audio/vnd.dts.hd"},
	{"dtx", "text/x-tex"},
	{"dvi", "application/x-dvi"},
	{"dv", "video/dv"},
	{"dwg", "image/vnd.dwg"},
	{"dxf", "image/vnd.dxf"},
	{"egon", "application/x-egon"},
	{"eif", "text/x-eiffel"},
	{"el", "text/x-emacs-lisp"},
	{"emf", "image/emf"},
	{"emp", "application/vnd.emusic-emusic_package"},
	{"enc", "text/x-uuencode"},
	{"ent", "application-external-parsed-entity"},
	{"epsf", "image/x-eps"},
	{"epsi", "image/x-eps"},
	{"eps", "image/x-eps"},
	{"epub", "application/epub+zip"},
	{"erf", "application/x-endace-erf"},
	{"erl", "text/x-erlang"},
	{"es", "application/ecmascript"},
	{"e", "text/x-eiffel"},
	{"etheme", "application/x-e-theme"},
	{"etx", "text/x-setext"},
	{"exe", "application/x-ms-dos-executable"},
	{"exr", "image/x-exr"},
	{"ez", "application/andrew-inset"},
	{"f4a", "audio/mp4"},
	{"f4b", "audio/x-m4b"},
	{"f4v", "video/mp4"},
	{"f90", "text/x-fortran"},
	{"f95", "text/x-fortran"},
	{"fb2", "application/x-fictionbook"},
	{"fds", "application/x-fds-disk"},
	{"feature", "text/x-gherkin"},
	{"fff", "image/x-kde-raw"},
	{"fgeo", "application/x-drgeo"},
	{"fig", "image/x-xfig"},
	{"fits", "image/fits"},
	{"fkt", "application/x-kmplot"},
	{"flac", "audio/flac"},
	{"fl", "application/x-fluid"},
	{"flatpak", "application/vnd.flatpak"},
	{"flatpakref", "application/vnd.flatpak.ref"},
	{"flatpakrepo", "application/vnd.flatpak.repo"},
	{"flc", "video/x-flic"},
	{"fli", "video/x-flic"},
	{"flv", "video/x-flv"},
	{"flw", "application/x-kivio"},
	{"fm", "application/vnd.framemaker"},
	{"fodg", "application/vnd.oasis.opendocument.graphics-flat"},
	{"fodp", "application/vnd.oasis.opendocument.presentation-flat"},
	{"fods", "application/vnd.oasis.opendocument.spreadsheet-flat"},
	{"fodt", "application/vnd.oasis.opendocument.text-flat"},
	{"for", "text/x-fortran"},
	{"fo", "text/x-xslfo"},
	{"fskin", "application/x-fskin"},
	{"f", "text/x-fortran"},
	{"fxm", "video/x-javafx"},
	{"g3", "image/fax-g3"},
	{"gba", "application/x-gba-rom"},
	{"gb", "application/x-gameboy-rom"},
	{"gbc", "application/x-gameboy-color-rom"},
	{"gbr", "image/x-gimp-gbr"},
	{"gcode", "text/x.gcode"},
	{"gcrd", "text/vcard"},
	{"ged", "application/x-gedcom"},
	{"gedcom", "application/x-gedcom"},
	{"gem", "application/x-tar"},
	{"gen", "application/x-genesis-rom"},
	{"geojson", "application/geo+json"},
	{"gf", "application/x-tex-gf"},
	{"gg", "application/x-gamegear-rom"},
	{"gif", "image/gif"},
	{"gih", "image/x-gimp-gih"},
	{"glade", "application/x-glade"},
	{"gml", "application/gml"},
	{"gmo", "application/x-gettext-translation"},
	{"gnc", "application/x-gnucash"},
	{"gnd", "application/gnunet-directory"},
	{"gnucash", "application/x-gnucash"},
	{"gnumeric", "application/x-gnumeric"},
	{"gnuplot", "application/x-gnuplot"},
	{"go", "text/x-go"},
	{"gp", "application/x-gnuplot"},
	{"gpg", "application/pgp-encrypted"},
	{"gplt", "application/x-gnuplot"},
	{"gpx", "application/gpx"},
	{"gra", "application/x-graphite"},
	{"grc", "application/gnuradio-grc"},
	{"gsf", "application/x-font-type1"},
	{"gsm", "audio/x-gsm"},
	{"gs", "text/x-genie"},
	{"gtar", "application/x-tar"},
	{"gvp", "text/x-google-video-pointer"},
	{"gv", "text/vnd.graphviz"},
	{"gz", "application/gzip"},
	{"h4", "application/x-hdf"},
	{"h5", "application/x-hdf"},
	{"hdf4", "application/x-hdf"},
	{"hdf5", "application/x-hdf"},
	{"hdf", "application/x-hdf"},
	{"hdr", "image/x-hdr"},
	{"hex", "text/x-hex"},
	{"hfe", "application/x-hfe-floppy-image"},
	{"hh", "text/x-c++hdr"},
	{"hlp", "application/winhlp"},
	{"hpgl", "application/vnd.hp-hpgl"},
	{"hpp", "text/x-c++hdr"},
	{"hp", "text/x-c++hdr"},
	{"hrd", "image/x-kde-raw"},
	{"hs", "text/x-haskell"},
	{"h", "text/x-chdr"},
	{"h++", "text/x-c++hdr"},
	{"html", "text/html"},
	{"htm", "text/html"},
	{"hwp", "application/x-hwp"},
	{"hwt", "application/x-hwt"},
	{"hxx", "text/x-c++hdr"},
	{"ia", "application/vnd.sun.writer.global"},
	{"ica", "application/x-ica"},
	{"icb", "image/x-tga"},
	{"icc", "application/vnd.iccprofile"},
	{"icm", "application/vnd.iccprofile"},
	{"icns", "image/x-icns"},
	{"ico", "image/vnd.microsoft.icon"},
	{"icq", "application/x-icq"},
	{"ics", "text/calendar"},
	{"idl", "text/x-idl"},
	{"ief", "image/ief"},
	{"iff", "image/x-ilbm"},
	{"ihex", "text/x-ihex"},
	{"ilbm", "image/x-ilbm"},
	{"ime", "text/x-imelody"},
	{"img", "application/x-raw-disk-image"},
	{"imy", "text/x-imelody"},
	{"inf", "text/plain"},
	{"ini", "text/plain"},
	{"ins", "text/x-tex"},
	{"ipfix", "application/ipfix"},
	{"iptables", "text/x-iptables"},
	{"ipynb", "application/x-ipynb+json"},
	{"iso", "application/x-cd-image"},
	{"it87", "application/x-it87"},
	{"it", "audio/x-it"},
	{"j2c", "image/x-jp2-codestream"},
	{"j2k", "image/x-jp2-codestream"},
	{"jad", "text/vnd.sun.j2me.app-descriptor"},
	{"jar", "application/x-java-archive"},
	{"java", "text/x-java"},
	{"jceks", "application/x-java-jce-keystore"},
	{"jks", "application/x-java-keystore"},
	{"jng", "image/x-jng"},
	{"jnlp", "application/x-java-jnlp-file"},
	{"jp2", "image/jp2"},
	{"jpc", "image/x-jp2-codestream"},
	{"jpeg", "image/jpeg"},
	{"jpe", "image/jpeg"},
	{"jpf", "image/jpx"},
	{"jpg2", "image/jp2"},
	{"jpg", "image/jpeg"},
	{"jpgm", "image/jpm"},
	{"jpm", "image/jpm"},
	{"jpr", "application/x-jbuilder-project"},
	{"jpx", "image/jpx"},
	{"jrd", "application/jrd+json"},
	{"js", "application/javascript"},
	{"jsm", "application/javascript"},
	{"json", "application/json"},
	{"jsonld", "application/ld+json"},
	{"json-patch", "application/json-patch+json"},
	{"k25", "image/x-kodak-k25"},
	{"k3b", "application/x-k3b"},
	{"k7", "application/x-thomson-cassette"},
	{"kar", "audio/midi"},
	{"karbon", "application/x-karbon"},
	{"katefl", "text/x-katefilelist"},
	{"kcfg", "application/vnd.kde.kcfg"},
	{"kcfgc", "application/vnd.kde.kcfgc"},
	{"kcsrc", "application/x-kcsrc"},
	{"kdbx", "application/x-keepass2"},
	{"kdc", "image/x-kodak-kdc"},
	{"kdelnk", "application/x-desktop"},
	{"kdenlive", "application/x-kdenlive"},
	{"kdenlivetitle", "application/x-kdenlivetitle"},
	{"kexi", "application/x-kexiproject-sqlite2"},
	{"kexic", "application/x-kexi-connectiondata"},
	{"kexis", "application/x-kexiproject-shortcut"},
	{"key", "application/x-iwork-keynote-sffkey"},
	{"kfo", "application/x-kformula"},
	{"kgeo", "application/x-kgeo"},
	{"kgt", "application/x-kgetlist"},
	{"kig", "application/x-kig"},
	{"kigz", "application/x-kig"},
	{"kil", "application/x-killustrator"},
	{"kim", "application/vnd.kde.kphotoalbum-import"},
	{"kino", "application/smil"},
	{"kmdr", "application/x-kommander"},
	{"kml", "application/vnd.google-earth.kml"},
	{"kmz", "application/vnd.google-earth.kmz"},
	{"kns", "application/x-kns"},
	{"kolf", "application/x-kourse"},
	{"kolfgame", "application/x-kolf"},
	{"kon", "application/x-kontour"},
	{"kopete-emoticons", "application/x-kopete-emoticons"},
	{"kourse", "application/x-kourse"},
	{"kplato", "application/x-vnd.kde.kplato"},
	{"kplatowork", "application/x-vnd.kde.kplato.work"},
	{"kpm", "application/x-kpovmodeler"},
	{"kpr", "application/x-kpresenter"},
	{"kpt", "application/x-kpresenter"},
	{"kra", "application/x-krita"},
	{"ks", "application/x-java-keystore"},
	{"ksp", "application/x-kspread"},
	{"kth", "application/x-ktheme"},
	{"ktx", "image/ktx"},
	{"kud", "application/x-kugar"},
	{"kug", "application/x-vnd.kde.kugar.mixed"},
	{"kut", "application/x-kudesigner"},
	{"kvtml", "application/x-kvtml"},
	{"kwd", "application/x-kword"},
	{"kwl", "application/x-kwallet"},
	{"kwt", "application/x-kword"},
	{"la", "application/x-shared-library-la"},
	{"latex", "text/x-tex"},
	{"lbm", "image/x-ilbm"},
	{"ldif", "text/x-ldif"},
	{"lha", "application/x-lha"},
	{"lhs", "text/x-literate-haskell"},
	{"lhz", "application/x-lhz"},
	{"lnk", "application/x-ms-shortcut"},
	{"lnx", "application/x-atari-lynx-rom"},
	{"log", "text/x-log"},
	{"lrv", "video/mp4"},
	{"lrz", "application/x-lrzip"},
	{"ltx", "text/x-tex"},
	{"lua", "text/x-lua"},
	{"lwob", "image/x-lwo"},
	{"lwo", "image/x-lwo"},
	{"lwp", "application/vnd.lotus-wordpro"},
	{"lws", "image/x-lws"},
	{"ly", "text/x-lilypond"},
	{"lyx", "application/x-lyx"},
	{"lz4", "application/x-lz4"},
	{"lz", "application/x-lzip"},
	{"lzh", "application/x-lha"},
	{"lzma", "application/x-lzma"},
	{"lzo", "application/x-lzop"},
	{"m15", "audio/x-mod"},
	{"m1u", "video/vnd.mpegurl"},
	{"m2ts", "video/mp2t"},
	{"m2t", "video/mp2t"},
	{"m3u8", "audio/x-mpegurl"},
	{"m3u", "audio/x-mpegurl"},
	{"m4a", "audio/mp4"},
	{"m4", "application/x-m4"},
	{"m4b", "audio/x-m4b"},
	{"m4u", "video/vnd.mpegurl"},
	{"m4v", "video/mp4"},
	{"m7", "application/x-thomson-cartridge-memo7"},
	{"mab", "application/x-markaby"},
	{"makefile", "text/x-makefile"},
	{"mak", "text/x-makefile"},
	{"man", "application/x-troff-man"},
	{"manifest", "text/cache-manifest"},
	{"markdown", "text/markdown"},
	{"mbox", "application/mbox"},
	{"mdb", "application/vnd.ms-access"},
	{"mdc", "image/x-kde-raw"},
	{"mdi", "image/vnd.ms-modi"},
	{"md", "text/markdown"},
	{"mdx", "application/x-genesis-32x-rom"},
	{"med", "audio/x-mod"},
	{"meta4", "application/metalink4"},
	{"metalink", "application/metalink"},
	{"me", "text/x-troff-me"},
	{"mgp", "application/x-magicpoint"},
	{"mht", "application/x-mimearchive"},
	{"mhtml", "application/x-mimearchive"},
	{"mid", "audio/midi"},
	{"midi", "audio/midi"},
	{"mif", "application/x-mif"},
	{"minipsf", "audio/x-minipsf"},
	{"mj2", "video/mj2"},
	{"mjp2", "video/mj2"},
	{"mjs", "application/javascript"},
	{"mk3d", "video/x-matroska-3d"},
	{"mka", "audio/x-matroska"},
	{"mkd", "text/markdown"},
	{"mk", "text/x-makefile"},
	{"mkv", "video/x-matroska"},
	{"mli", "text/x-ocaml"},
	{"ml", "text/x-ocaml"},
	{"mlt", "video/mlt-playlist"},
	{"mmf", "application/x-smaf"},
	{"mml", "application/mathml"},
	{"mmp", "application/x-lmms-project"},
	{"mmpz", "application/x-lmms-project"},
	{"mm", "text/x-troff-mm"},
	{"mng", "video/x-mng"},
	{"mo3", "audio/x-mo3"},
	{"mo", "application/x-gettext-translation"},
	{"mobi", "application/x-mobipocket-ebook"},
	{"moc", "text/x-moc"},
	{"mod", "audio/x-mod"},
	{"mof", "text/x-mof"},
	{"moov", "video/quicktime"},
	{"mos", "image/x-kde-raw"},
	{"mo", "text/x-modelica"},
	{"mount", "text/x-systemd-unit"},
	{"movie", "video/x-sgi-movie"},
	{"mov", "video/quicktime"},
	{"mp2", "audio/mp2"},
	{"mp2", "video/mpeg"},
	{"mp3", "audio/mpeg"},
	{"mp4", "video/mp4"},
	{"mp+", "audio/x-musepack"},
	{"mpc", "audio/x-musepack"},
	{"mpeg", "video/mpeg"},
	{"mpe", "video/mpeg"},
	{"mpga", "audio/mpeg"},
	{"mpg", "video/mpeg"},
	{"mplog", "application/x-micropross-mplog"},
	{"mpls", "video/mp2t"},
	{"mpl", "video/mp2t"},
	{"mpp", "audio/x-musepack"},
	{"mps", "application/x-mps"},
	{"mrl", "text/x-mrml"},
	{"mrml", "text/x-mrml"},
	{"mrw", "image/x-minolta-mrw"},
	{"msi", "application/x-ms-win-installer"},
	{"msod", "image/x-msod"},
	{"ms", "text/x-troff-ms"},
	{"msx", "application/x-msx-rom"},
	{"m", "text/x-matlab"},
	{"mtm", "audio/x-mod"},
	{"mts", "video/mp2t"},
	{"mup", "text/x-mup"},
	{"mxf", "application/mxf"},
	{"mxu", "video/vnd.mpegurl"},
	{"n64", "application/x-n64-rom"},
	{"nb", "application/mathematica"},
	{"nc", "application/x-netcdf"},
	{"nds", "application/x-nintendo-ds-rom"},
	{"nef", "image/x-nikon-nef"},
	{"nes", "application/x-nes-rom"},
	{"nez", "application/x-nes-rom"},
	{"nfo", "text/x-nfo"},
	{"ngp", "application/x-neo-geo-pocket-rom"},
	{"notifyrc", "application/vnd.kde.knotificationrc"},
	{"not", "text/x-mup"},
	{"nsc", "application/x-netshow-channel"},
	{"nsv", "video/x-nsv"},
	{"ntar", "application/x-pcapng"},
	{"nzb", "application/x-nzb"},
	{"o", "application/x-object"},
	{"obj", "application/x-tgif"},
	{"obt", "application/x-openbox-theme"},
	{"ocl", "text/x-ocl"},
	{"oda", "application/oda"},
	{"odb", "application/vnd.oasis.opendocument.database"},
	{"odc", "application/vnd.oasis.opendocument.chart"},
	{"odf", "application/vnd.oasis.opendocument.formula"},
	{"odg", "application/vnd.oasis.opendocument.graphics"},
	{"odi", "application/vnd.oasis.opendocument.image"},
	{"odm", "application/vnd.oasis.opendocument.text-master"},
	{"odp", "application/vnd.oasis.opendocument.presentation"},
	{"ods", "application/vnd.oasis.opendocument.spreadsheet"},
	{"odt", "application/vnd.oasis.opendocument.text"},
	{"oga", "audio/ogg"},
	{"ogg", "audio/ogg"},
	{"ogv", "video/ogg"},
	{"ogx", "application/ogg"},
	{"okular", "application/vnd.kde.okular-archive"},
	{"old", "application/x-trash"},
	{"oleo", "application/x-oleo"},
	{"ooc", "text/x-ooc"},
	{"opml", "text/x-opml"},
	{"oprc", "application/vnd.palm"},
	{"opus", "audio/x-opus+ogg"},
	{"ora", "image/openraster"},
	{"orf", "image/x-olympus-orf"},
	{"osd", "application/x-vnd.kde.okteta.structure"},
	{"otc", "application/vnd.oasis.opendocument.chart-template"},
	{"otf", "font/otf"},
	{"otg", "application/vnd.oasis.opendocument.graphics-template"},
	{"oth", "application/vnd.oasis.opendocument.text-web"},
	{"otm", "application/vnd.oasis.opendocument.text-master-template"},
	{"otp", "application/vnd.oasis.opendocument.presentation-template"},
	{"ots", "application/vnd.oasis.opendocument.spreadsheet-template"},
	{"ott", "application/vnd.oasis.opendocument.text-template"},
	{"owl", "application/rdf"},
	{"owx", "application/owl"},
	{"oxps", "application/oxps"},
	{"oxt", "application/vnd.openofficeorg.extension"},
	{"p10", "application/pkcs10"},
	{"p12", "application/pkcs12"},
	{"p65", "application/x-pagemaker"},
	{"p7b", "application/pkcs7-mime"},
	{"p7b", "application/x-pkcs7-certificates"},
	{"p7c", "application/pkcs7-mime"},
	{"p7m", "application/pkcs7-mime"},
	{"p7s", "application/pkcs7-signature"},
	{"p8", "application/pkcs8"},
	{"pack", "application/x-java-pack200"},
	{"pak", "application/x-pak"},
	{"par2", "application/x-par2"},
	{"part", "application/x-partial-download"},
	{"pas", "text/x-pascal"},
	{"patch", "text/x-patch"},
	{"path", "text/x-systemd-unit"},
	{"pat", "image/x-gimp-pat"},
	{"pbm", "image/x-portable-bitmap"},
	{"pcap", "application/vnd.tcpdump.pcap"},
	{"pcapng", "application/x-pcapng"},
	{"pcd", "image/x-photo-cd"},
	{"pce", "application/x-pc-engine-rom"},
	{"pcf", "application/x-font-pcf"},
	{"pcl", "application/vnd.hp-pcl"},
	{"pct", "image/x-pict"},
	{"pcx", "image/vnd.zbrush.pcx"},
	{"pdb", "application/vnd.palm"},
	{"pdc", "application/x-aportisdoc"},
	{"pdf", "application/pdf"},
	{"pef", "image/x-pentax-pef"},
	{"pem", "application/x-x509-ca-cert"},
	{"perl", "application/x-perl"},
	{"pfa", "application/x-font-type1"},
	{"pfb", "application/x-font-type1"},
	{"pfx", "application/pkcs12"},
	{"pgm", "image/x-portable-graymap"},
	{"pgn", "application/vnd.chess-pgn"},
	{"pgp", "application/pgp-encrypted"},
	{"php3", "application/x-php"},
	{"php4", "application/x-php"},
	{"php5", "application/x-php"},
	{"php", "application/x-php"},
	{"phps", "application/x-php"},
	{"pic", "image/x-pic"},
	{"pict1", "image/x-pict"},
	{"pict2", "image/x-pict"},
	{"pict", "image/x-pict"},
	{"pk", "application/x-tex-pk"},
	{"pkg", "application/x-xar"},
	{"pkipath", "application/pkix-pkipath"},
	{"pklg", "application/x-apple-packetlogger"},
	{"pkpass", "application/vnd.apple.pkpass"},
	{"pkr", "application/pgp-keys"},
	{"pkt", "application/x-etherpeek"},
	{"pla", "audio/x-iriver-pla"},
	{"plan", "application/x-vnd.kde.plan"},
	{"planwork", "application/x-vnd.kde.plan.work"},
	{"pl", "application/x-perl"},
	{"PL", "application/x-perl"},
	{"plasmoid", "application/x-plasma"},
	{"pln", "application/x-planperfect"},
	{"pls", "audio/x-scpls"},
	{"pm6", "application/x-pagemaker"},
	{"pm", "application/x-pagemaker"},
	{"pm", "application/x-perl"},
	{"pmd", "application/x-pagemaker"},
	{"png", "image/png"},
	{"pnm", "image/x-portable-anymap"},
	{"pntg", "image/x-macpaint"},
	{"pnx", "image/x-kde-raw"},
	{"pod", "application/x-perl"},
	{"por", "application/x-spss-por"},
	{"pot", "application/vnd.ms-powerpoint"},
	{"po", "text/x-gettext-translation"},
	{"potm", "application/vnd.ms-powerpoint.template.macroenabled.12"},
	{"pot", "text/x-gettext-translation-template"},
	{"potx", "application/vnd.opeformats-officedocument.presentationml.template"},
	{"ppam", "application/vnd.ms-powerpoint.addin.macroenabled.12"},
	{"ppm", "image/x-portable-pixmap"},
	{"pps", "application/vnd.ms-powerpoint"},
	{"ppsm", "application/vnd.ms-powerpoint.slideshow.macroenabled.12"},
	{"ppsx", "application/vnd.opeformats-officedocument.presentationml.slideshow"},
	{"ppt", "application/vnd.ms-powerpoint"},
	{"pptm", "application/vnd.ms-powerpoint.presentation.macroenabled.12"},
	{"pptx", "application/vnd.opeformats-officedocument.presentationml.presentation"},
	{"ppz", "application/vnd.ms-powerpoint"},
	{"pqa", "application/vnd.palm"},
	{"prc", "application/x-mobipocket-ebook"},
	{"pro", "application/vnd.nokia.qt.qmakeprofile"},
	{"ps", "application/postscript"},
	{"psd", "image/vnd.adobe.photoshop"},
	{"psf", "audio/x-psf"},
	{"psflib", "audio/x-psflib"},
	{"psid", "audio/prs.sid"},
	{"psw", "application/x-pocket-word"},
	{"pt", "application/vnd.oasis.opendocument.text-master"},
	{"pt", "application/vnd.oasis.opendocument.text-master-template"},
	{"pt", "application/vnd.sun.writer.global"},
	{"p", "text/x-pascal"},
	{"pub", "application/vnd.ms-publisher"},
	{"pw", "application/x-pw"},
	{"pyc", "application/x-python-bytecode"},
	{"pyo", "application/x-python-bytecode"},
	{"qif", "application/x-qw"},
	{"qif", "image/x-quicktime"},
	{"qmlproject", "text/x-qml"},
	{"qml", "text/x-qml"},
	{"qmltypes", "text/x-qml"},
	{"qp", "application/x-qpress"},
	{"qrc", "application/vnd.nokia.qt.resource"},
	{"qti", "application/x-qtiplot"},
	{"qtif", "image/x-quicktime"},
	{"qtl", "application/x-quicktime-media-link"},
	{"qt", "video/quicktime"},
	{"qtvr", "video/quicktime"},
	{"quanta", "application/x-quanta"},
	{"ra", "audio/vnd.rn-realaudio"},
	{"raf", "image/x-fuji-raf"},
	{"ram", "application/ram"},
	{"raml", "application/raml+yaml"},
	{"rar", "application/vnd.rar"},
	{"ras", "image/x-cmu-raster"},
	{"raw", "image/x-panasonic-rw"},
	{"rax", "audio/vnd.rn-realaudio"},
	{"rb", "application/x-ruby"},
	{"rc", "application/vnd.kde.guirc"},
	{"rdc", "image/x-kde-raw"},
	{"rdf", "application/rdf"},
	{"rdfs", "application/rdf"},
	{"rdp", "application/x-remmina"},
	{"RDP", "application/x-remmina"},
	{"rdpx", "application/x-remmina"},
	{"reg", "text/x-ms-regedit"},
	{"rej", "text/x-reject"},
	{"remmina", "application/x-remmina"},
	{"rf5", "application/x-tektronix-rf5"},
	{"rgb", "image/x-rgb"},
	{"rle", "image/rle"},
	{"rm", "application/vnd.rn-realmedia"},
	{"rmj", "application/vnd.rn-realmedia"},
	{"rmm", "application/vnd.rn-realmedia"},
	{"rms", "application/vnd.rn-realmedia"},
	{"rmvb", "application/vnd.rn-realmedia"},
	{"rmx", "application/vnd.rn-realmedia"},
	{"rnc", "application/relax-ng-compact-syntax"},
	{"rng", "application"},
	{"rng", "application/relaxng"},
	{"roff", "text/troff"},
	{"rp", "image/vnd.rn-realpix"},
	{"rpm", "application/x-rpm"},
	{"rss", "application/rss"},
	{"rs", "text/rust"},
	{"rtf", "application/rtf"},
	{"rt", "text/vnd.rn-realtext"},
	{"rtx", "text/richtext"},
	{"rv", "video/vnd.rn-realvideo"},
	{"rvx", "video/vnd.rn-realvideo"},
	{"rw2", "image/x-panasonic-rw2"},
	{"s19", "text/x-srecord"},
	{"s28", "text/x-srecord"},
	{"s37", "text/x-srecord"},
	{"s3m", "audio/x-s3m"},
	{"sam", "application/x-amipro"},
	{"sami", "application/x-sami"},
	{"sap", "application/x-thomson-sap-image"},
	{"sass", "text/x-sass"},
	{"sav", "application/x-spss-sav"},
	{"scala", "text/x-scala"},
	{"scm", "text/x-scheme"},
	{"scope", "text/x-systemd-unit"},
	{"scss", "text/x-scss"},
	{"sda", "application/vnd.stardivision.draw"},
	{"sdc", "application/vnd.stardivision.calc"},
	{"sdd", "application/vnd.stardivision.impress"},
	{"sdp", "application/sdp"},
	{"sdp", "application/vnd.stardivision.impress"},
	{"sds", "application/vnd.stardivision.chart"},
	{"sdw", "application/vnd.stardivision.writer"},
	{"seg", "application/x-kseg"},
	{"service", "text/x-systemd-unit"},
	{"sfc", "application/vnd.nintendo.snes.rom"},
	{"sg", "application/x-sg1000-rom"},
	{"sgb", "application/x-gameboy-rom"},
	{"sgf", "application/x-go-sgf"},
	{"sgi", "image/x-sgi"},
	{"sgl", "application/vnd.stardivision.writer"},
	{"sgml", "text/sgml"},
	{"sgm", "text/sgml"},
	{"sgrd", "application/x-ksysguard"},
	{"shape", "application/x-dia-shape"},
	{"sh", "application/x-shellscript"},
	{"shar", "application/x-shar"},
	{"shn", "application/x-shorten"},
	{"shriman", "application/x-gip"},
	{"siag", "application/x-siag"},
	{"sid", "audio/prs.sid"},
	{"sig", "application/pgp-signature"},
	{"sik", "application/x-trash"},
	{"sis", "application/vnd.symbian.install"},
	{"sit", "application/x-stuffit"},
	{"siv", "application/sieve"},
	{"sk1", "image/x-skencil"},
	{"sk", "image/x-skencil"},
	{"skr", "application/pgp-keys"},
	{"skz", "application/x-superkaramba"},
	{"sldm", "application/vnd.ms-powerpoint.slide.macroenabled.12"},
	{"sldx", "application/vnd.opeformats-officedocument.presentationml.slide"},
	{"slice", "text/x-systemd-unit"},
	{"slk", "text/spreadsheet"},
	{"smaf", "application/x-smaf"},
	{"smc", "application/vnd.nintendo.snes.rom"},
	{"smd", "application/vnd.stardivision.mail"},
	{"smf", "application/vnd.stardivision.math"},
	{"smi", "application/smil"},
	{"smil", "application/smil"},
	{"sml", "application/smil"},
	{"sms", "application/x-sms-rom"},
	{"snap", "application/vnd.snap"},
	{"snd", "audio/basic"},
	{"snf", "application/x-font-snf"},
	{"snoop", "application/x-snoop"},
	{"so", "application/x-sharedlib"},
	{"socket", "text/x-systemd-unit"},
	{"spc", "application/pkcs7-mime"},
	{"spd", "application/x-font-speedo"},
	{"spec", "text/x-rpm-spec"},
	{"spkac", "application/x-spkac"},
	{"spl", "application/vnd.adobe.flash.movie"},
	{"spm", "application/x-source-rpm"},
	{"spx", "audio/x-speex"},
	{"sql", "application/sql"},
	{"sqsh", "application/vnd.squashfs"},
	{"sr2", "image/x-sony-sr2"},
	{"src", "application/x-wais-source"},
	{"srec", "text/x-srecord"},
	{"srf", "image/x-sony-srf"},
	{"srt", "application/x-subrip"},
	{"ssa", "text/x-ssa"},
	{"ss", "text/x-scheme"},
	{"stc", "application/vnd.sun.calc.template"},
	{"std", "application/vnd.sun.draw.template"},
	{"sti", "application/vnd.sun.impress.template"},
	{"stm", "audio/x-stm"},
	{"stw", "application/vnd.sun.writer.template"},
	{"sty", "text/x-tex"},
	{"sub", "text/x-mpsub"},
	{"sun", "image/x-sun-raster"},
	{"sv4cpio", "application/x-sv4cpio"},
	{"sv4crc", "application/x-sv4crc"},
	{"svg", "image/svg"},
	{"svgz", "image/svg-compressed"},
	{"svh", "text/x-svhdr"},
	{"sv", "text/x-svsrc"},
	{"swap", "text/x-systemd-unit"},
	{"swf", "application/vnd.adobe.flash.movie"},
	{"swm", "application/x-ms-wim"},
	{"sxc", "application/vnd.sun.calc"},
	{"sxd", "application/vnd.sun.draw"},
	{"sxg", "application/vnd.sun.writer.global"},
	{"sxi", "application/vnd.sun.impress"},
	{"sxm", "application/vnd.sun.math"},
	{"sxw", "application/vnd.sun.writer"},
	{"sylk", "text/spreadsheet"},
	{"t2t", "text/x-txt2tags"},
	{"tar", "application/x-tar"},
	{"taz", "application/x-tarz"},
	{"tb2", "application/x-bzip-compressed-tar"},
	{"tbz2", "application/x-bzip-compressed-tar"},
	{"tbz", "application/x-bzip-compressed-tar"},
	{"tcl", "text/x-tcl"},
	{"texinfo", "text/x-texinfo"},
	{"texi", "text/x-texinfo"},
	{"tex", "text/x-tex"},
	{"tga", "image/x-tga"},
	{"tgz", "application/x-compressed-tar"},
	{"theme", "application/x-theme"},
	{"themepack", "application/x-windows-themepack"},
	{"tiff", "image/tiff"},
	{"tif", "image/tiff"},
	{"timer", "text/x-systemd-unit"},
	{"tk", "text/x-tcl"},
	{"tlrz", "application/x-lrzip-compressed-tar"},
	{"tlz", "application/x-lzma-compressed-tar"},
	{"tnef", "application/vnd.ms-tnef"},
	{"tnf", "application/vnd.ms-tnef"},
	{"toc", "application/x-cdrdao-toc"},
	{"torrent", "application/x-bittorrent"},
	{"tpc", "application/x-etherpeek"},
	{"tpic", "image/x-tga"},
	{"tr1", "application/x-lanalyzer"},
	{"trc0", "application/x-nettl"},
	{"trc1", "application/x-nettl"},
	{"trig", "application/trig"},
	{"tr", "text/troff"},
	{"ts", "video/mp2t"},
	{"tsv", "text/tab-separated-values"},
	{"tta", "audio/x-tta"},
	{"ttc", "font/collection"},
	{"ttf", "font/ttf"},
	{"ttl", "text/turtle"},
	{"ttx", "application/x-font-ttx"},
	{"tuberling", "application/x-tuberling"},
	{"twig", "text/x-twig"},
	{"txt", "text/plain"},
	{"txz", "application/x-xz-compressed-tar"},
	{"tzo", "application/x-tzo"},
	{"udeb", "application/vnd.debian.binary-package"},
	{"ufraw", "application/x-ufraw"},
	{"ui", "application/x-designer"},
	{"ui", "application/x-gtk-builder"},
	{"uil", "text/x-uil"},
	{"uin", "application/x-icq"},
	{"ult", "audio/x-mod"},
	{"unf", "application/x-nes-rom"},
	{"uni", "audio/x-mod"},
	{"unif", "application/x-nes-rom"},
	{"url", "application/x-mswinurl"},
	{"ustar", "application/x-ustar"},
	{"uue", "text/x-uuencode"},
	{"uu", "text/x-uuencode"},
	{"v64", "application/x-n64-rom"},
	{"vala", "text/x-vala"},
	{"vapi", "text/x-vala"},
	{"vb", "application/x-virtual-boy-rom"},
	{"vbs", "application/x-vbscript"},
	{"vcard", "text/vcard"},
	{"vcf", "text/vcard"},
	{"vcs", "text/calendar"},
	{"vct", "text/vcard"},
	{"vda", "image/x-tga"},
	{"vhdl", "text/x-vhdl"},
	{"vhd", "text/x-vhdl"},
	{"vivo", "video/vnd.vivo"},
	{"viv", "video/vnd.vivo"},
	{"vlc", "audio/x-mpegurl"},
	{"vob", "video/mpeg"},
	{"voc", "audio/x-voc"},
	{"vor", "application/vnd.stardivision.writer"},
	{"vsd", "application/vnd.visio"},
	{"vsdm", "application/vnd.ms-visio.drawing.macroenabled.main"},
	{"vsdx", "application/vnd.ms-visio.drawing.main"},
	{"vss", "application/vnd.visio"},
	{"vssm", "application/vnd.ms-visio.stencil.macroenabled.main"},
	{"vssx", "application/vnd.ms-visio.stencil.main"},
	{"vst", "application/vnd.visio"},
	{"vst", "image/x-tga"},
	{"vstm", "application/vnd.ms-visio.template.macroenabled.main"},
	{"vstx", "application/vnd.ms-visio.template.main"},
	{"vsw", "application/vnd.visio"},
	{"v", "text/x-verilog"},
	{"vtt", "text/vtt"},
	{"vv", "application/x-virt-viewer"},
	{"vwr", "application/x-ixia-vwr"},
	{"wad", "application/x-wii-wad"},
	{"war", "application/x-webarchive"},
	{"wav", "audio/x-wav"},
	{"wax", "audio/x-ms-asx"},
	{"wb1", "application/x-quattropro"},
	{"wb2", "application/x-quattropro"},
	{"wb3", "application/x-quattropro"},
	{"wbmp", "image/vnd.wap.wbmp"},
	{"wcm", "application/vnd.ms-works"},
	{"wdb", "application/vnd.ms-works"},
	{"webm", "video/webm"},
	{"webp", "image/webp"},
	{"westley", "video/mlt-playlist"},
	{"wim", "application/x-ms-wim"},
	{"wk1", "application/vnd.lotus-1-2-3"},
	{"wk3", "application/vnd.lotus-1-2-3"},
	{"wk4", "application/vnd.lotus-1-2-3"},
	{"wkdownload", "application/x-partial-download"},
	{"wks", "application/vnd.lotus-1-2-3"},
	{"wks", "application/vnd.ms-works"},
	{"wma", "audio/x-ms-wma"},
	{"wmf", "image/wmf"},
	{"wmls", "text/vnd.wap.wmlscript"},
	{"wml", "text/vnd.wap.wml"},
	{"wmp", "video/x-ms-wmp"},
	{"wmv", "video/x-ms-wmv"},
	{"wmx", "audio/x-ms-asx"},
	{"woff2", "font/woff"},
	{"woff", "font/woff"},
	{"wp4", "application/vnd.wordperfect"},
	{"wp5", "application/vnd.wordperfect"},
	{"wp6", "application/vnd.wordperfect"},
	{"wp", "application/vnd.wordperfect"},
	{"wpd", "application/vnd.wordperfect"},
	{"wpg", "application/x-wpg"},
	{"wpl", "application/vnd.ms-wpl"},
	{"wpp", "application/vnd.wordperfect"},
	{"wps", "application/vnd.ms-works"},
	{"wpz", "application/x-etherpeek"},
	{"wql", "application/x-kwordquiz"},
	{"wri", "application/x-mswrite"},
	{"ws", "application/x-wonderswan-rom"},
	{"wsc", "application/x-wonderswan-color-rom"},
	{"wv", "audio/x-wavpack"},
	{"wvc", "audio/x-wavpack-correction"},
	{"wvp", "audio/x-wavpack"},
	{"wvx", "audio/x-ms-asx"},
	{"wwf", "application/x-wwf"},
	{"x3f", "image/x-sigma-x3f"},
	{"xac", "application/x-gnucash"},
	{"xar", "application/x-xar"},
	{"xbel", "application/x-xbel"},
	{"xbl", "application"},
	{"xbm", "image/x-xbitmap"},
	{"xcf", "image/x-xcf"},
	{"xdgapp", "application/vnd.flatpak"},
	{"xht", "application/xhtml"},
	{"xhtml", "application/xhtml"},
	{"xi", "audio/x-xi"},
	{"xla", "application/vnd.ms-excel"},
	{"xlam", "application/vnd.ms-excel.addin.macroenabled.12"},
	{"xlc", "application/vnd.ms-excel"},
	{"xld", "application/vnd.ms-excel"},
	{"xlf", "application/x-xliff"},
	{"xliff", "application/x-xliff"},
	{"xll", "application/vnd.ms-excel"},
	{"xlm", "application/vnd.ms-excel"},
	{"xlr", "application/vnd.ms-works"},
	{"xls", "application/vnd.ms-excel"},
	{"xlsb", "application/vnd.ms-excel.sheet.binary.macroenabled.12"},
	{"xlsm", "application/vnd.ms-excel.sheet.macroenabled.12"},
	{"xlsx", "application/vnd.opeformats-officedocument.spreadsheetml.sheet"},
	{"xlt", "application/vnd.ms-excel"},
	{"xltm", "application/vnd.ms-excel.template.macroenabled.12"},
	{"xltx", "application/vnd.opeformats-officedocument.spreadsheetml.template"},
	{"xlw", "application/vnd.ms-excel"},
	{"xm", "audio/x-xm"},
	{"xmf", "audio/x-xmf"},
	{"xmi", "text/x-xmi"},
	{"xml", "application"},
	{"xpi", "application/x-xpinstall"},
	{"xpm", "image/x-xpixmap"},
	{"xps", "application/oxps"},
	{"xsd", "application"},
	{"xsd", "application/xsd"},
	{"xsl", "application/xslt"},
	{"xslfo", "text/x-xslfo"},
	{"xslt", "application/xslt"},
	{"xspf", "application/xspf"},
	{"xul", "application/vnd.mozilla.xul"},
	{"xwd", "image/x-xwindowdump"},
	{"xxe", "text/x-xxencode"},
	{"xz", "application/x-xz"},
	{"yaml", "application/x-yaml"},
	{"yml", "application/x-yaml"},
	{"z64", "application/x-n64-rom"},
	{"zabw", "application/x-abiword"},
	{"z", "application/x-compress"},
	{"zip", "application/zip"},
	{"zoo", "application/x-zoo"},
	{"zsav", "application/x-spss-sav"},
	{"zz", "application/zlib"}
};

const std::string &Util::mime_type(std::string dot_file_ext) {
	for (auto &it : dot_file_ext) {
		it = tolower(it);
	}

	auto it = mime_types.find(dot_file_ext);

	if (it == mime_types.end())
		return unknown_mime_type;
	else
		return it->second;
}